<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">
  
  <Texture name="ExpBar-Divider" atlas="PetJournal-ExpBar-Divider" useAtlasSize="true" virtual="true"/>
  
  <Button name="DiceMasterRollTrackerButtonTemplate" virtual="true">
		<Size x="276" y="16"/>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentName" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Size x="65" y="14"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="10" y="-3"/>
					</Anchors>
				</FontString>
				<FontString name="$parentRoll" inherits="GameFontHighlightSmall" justifyH="CENTER">
					<Size x="44" y="14"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentName" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
				<FontString name="$parentRollType" inherits="GameFontHighlightSmall" justifyH="CENTER">
					<Size x="101" y="14"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentRoll" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
				<FontString name="$parentTimestamp" inherits="GameFontHighlightSmall" justifyH="CENTER">
					<Size x="60" y="8"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentRollType" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
				<FontString name="$parentTarget" inherits="GameFontHighlightSmall" justifyH="CENTER">
					<Size x="22" y="8"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentTimestamp" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
			</OnLoad>
			<OnClick>
				DiceMasterRollTrackerButton_OnClick(self, button);
				PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
			</OnClick>
		</Scripts>
		<HighlightTexture name="$parentHighlight" file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD">
			<Size x="276" y="16"/>
			<Anchors>
				<Anchor point="TOPLEFT" x="5" y="-2"/>
			</Anchors>
		</HighlightTexture>
	</Button>
	
	<Button name="DiceMasterRollTrackerHistoryButtonTemplate" virtual="true">
		<Size x="220" y="16"/>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentRoll" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Size x="60" y="14"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="10" y="-3"/>
					</Anchors>
				</FontString>
				<FontString name="$parentTimestamp" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Size x="55" y="8"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentRoll" relativePoint="RIGHT" x="8" y="0"/>
					</Anchors>
				</FontString>
				<FontString name="$parentType" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Size x="150" y="8"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentTimestamp" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD">
			<Size x="220" y="16"/>
			<Anchors>
				<Anchor point="LEFT" x="5" y="-2"/>
			</Anchors>
		</HighlightTexture>
	</Button>
	
	<Frame name="DiceMasterRollTrackerDetailFrameTemplate" inherits="BackdropTemplate" toplevel="true" enableMouse="true" virtual="true">
		<Size x="250" y="350"/>
		<KeyValues>
			<KeyValue key="backdropInfo" value="BACKDROP_DIALOG_32_32" type="global"/>
		</KeyValues>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="BackBackground" alphaMode="ADD">
					<Anchors>
						<Anchor point="TOPLEFT" x="3" y="-5"/>
						<Anchor point="BOTTOMRIGHT" x="-3" y="5"/>
					</Anchors>
					<Color r="0" g="0" b="0" a="0.6"/>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="2">
				<Texture parentKey="Class" atlas="GarrMission_ClassIcon-Mage" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPRIGHT" x="0" y="-10"/>
					</Anchors>
					<Color r="1" g="1" b="1" a=".2"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="$parentName" parentKey="Name" inherits="GameFontNormal" justifyH="LEFT" text="Goblin Freeman">
					<Size x="165" y="0"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="70" y="-20"/>
					</Anchors>
				</FontString>
				<FontString parentKey="AverageLabel" inherits="GameFontNormalSmall" text="Average Roll:">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Name" relativePoint="BOTTOMLEFT" x="0" y="-22"/>
					</Anchors>
				</FontString>
				<FontString parentKey="AverageText" inherits="GameFontHighlight" justifyH="LEFT" text="--">
					<Size x="147" y="12"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.AverageLabel" relativePoint="RIGHT" x="2" y="0"/>
					</Anchors>
				</FontString>
				<FontString parentKey="RollHistoryLabel" inherits="GameFontNormalSmall" text="Roll">
					<Anchors>
						<Anchor point="TOPLEFT" x="20" y="-120"/>
					</Anchors>
				</FontString>
				<FontString parentKey="TimestampHistoryLabel" inherits="GameFontNormalSmall" text="Time">
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.RollHistoryLabel" relativePoint="RIGHT" x="50" y="0"/>
					</Anchors>
				</FontString>
				<FontString parentKey="TypeHistoryLabel" inherits="GameFontNormalSmall" text="Type">
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.TimestampHistoryLabel" relativePoint="RIGHT" x="28" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Corner" file="Interface\DialogFrame\UI-DialogBox-Corner">
					<Size x="32" y="32"/>
					<Anchors>
						<Anchor point="TOPRIGHT" x="-6" y="-7"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="PortraitFrame" inherits="DiceMasterDMRosterPortraitTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="12" y="-12" />
				</Anchors>
			</Button>
			<Button parentKey="CloseButton" inherits="UIPanelCloseButton">
				<Anchors>
					<Anchor point="TOPRIGHT" x="-3" y="-3"/>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						HideParentPanel(self);
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="$parentHealthFrame" parentKey="healthFrame">
				<Size x="72" y="16"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentName" x="0" y="-2"/>
				</Anchors>
				<Frames>
					<Frame name="$parentTextureFrame">
						<Size x="16" y="16"/>
						<Anchors>
							<Anchor point="TOPLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="$parentHealthTex" file="Interface\PetBattles\PetBattle-StatIcons">
									<TexCoords left="0.5" right="1.0" top="0.5" bottom="1.0"/>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parentHealthValue" inherits="GameFontHighlight" parentKey="healthValue" text="10/10">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="18" y="-2"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT", -54, 0);
						GameTooltip:SetText("Health", 1, 1, 1);
						GameTooltip:AddLine("Represents this character's health.", nil, nil, nil, true);
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Frame>
			<StatusBar name="$parentXPBar" parentKey="xpBar">
				<Size x="220" y="11"/>
				<Anchors>
					<Anchor point="TOP" x="0" y="-75"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parentRank" inherits="TextStatusBarText" parentKey ="rankText" text="XP: 0/0" hidden="true">
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
						</FontString>
						<Texture name="$parentLeft" atlas="PetJournal-ExpBar-Left" useAtlasSize="true">
							<Anchors>
								<Anchor point="RIGHT" relativePoint="LEFT"  x="9" y="0"/>
							</Anchors>
						</Texture>
						<Texture name="$parentRight" atlas="PetJournal-ExpBar-Right" useAtlasSize="true">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT"  x="-9" y="0"/>
							</Anchors>
						</Texture>
						<Texture name="$parentMiddle" atlas="PetJournal-ExpBar-Mid">
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="$parentLeft" relativePoint="TOPRIGHT"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parentRight" relativePoint="BOTTOMLEFT"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="1">
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="-82" y="0"/>
							</Anchors>
						</Texture>
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="-55" y="0"/>
							</Anchors>
						</Texture>
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="-27" y="0"/>
							</Anchors>
						</Texture>
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="27" y="0"/>
							</Anchors>
						</Texture>
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="55" y="0"/>
							</Anchors>
						</Texture>
						<Texture inherits="ExpBar-Divider">
							<Anchors>
								<Anchor point="CENTER" x="82" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="BACKGROUND">
						<Texture name="$parentBGMiddle" atlas="PetJournal-ExpBar-Background">
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="$parentLeft" x="2"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parentRight" x="-2"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<BarTexture name="$parentBar" file="Interface\PaperDollInfoFrame\UI-Character-Skills-Bar" />
				<BarColor r="0.2" g="0.6" b="1.0" />
				<Scripts>
					<OnShow>
						self.rankText:SetShown(GetCVarBool("xpBarText"));
						self:SetMinMaxValues( 0, 100 );
						self:SetValue( 0 )
					</OnShow>
					<OnEnter>
						self.rankText:Show();
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT", -162, 0);
						GameTooltip:SetText("Experience", 1, 1, 1);
						GameTooltip:AddLine( self:GetValue() .. "/100 (" .. self:GetValue() .. "%)" );
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						self.rankText:SetShown(GetCVarBool("xpBarText"));
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</StatusBar>
			<Button parentKey="GrantLevelButton" inherits="UIPanelButtonTemplate" text="Grant Level">
				<Size x="74" y="22"/>
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.xpBar" relativePoint="BOTTOM" x="0" y="-2"/>
				</Anchors>
				<Scripts>
					<OnUpdate>
						if UnitIsGroupLeader("player", 1) then	
							self:Enable()
						else
							self:Disable()
						end
					</OnUpdate>
					<OnClick>
						StaticPopup_Show("DICEMASTER4_GRANTLEVEL", nil, nil, DiceMasterRollFrame.DetailFrame.name)
					</OnClick>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
			<Button parentKey="GrantXPButton" inherits="UIPanelButtonTemplate" text="Grant XP">
				<Size x="74" y="22"/>
				<Anchors>
					<Anchor point="RIGHT" relativeKey="$parent.GrantLevelButton" relativePoint="LEFT" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnUpdate>
						if UnitIsGroupLeader("player", 1) then	
							self:Enable()
						else
							self:Disable()
						end
					</OnUpdate>
					<OnClick>
						StaticPopup_Show("DICEMASTER4_GRANTEXPERIENCE", nil, nil, DiceMasterRollFrame.DetailFrame.name)
					</OnClick>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
			<Button parentKey="ResetLevelButton" inherits="UIPanelButtonTemplate" text="Reset Level">
				<Size x="74" y="22"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.GrantLevelButton" relativePoint="RIGHT" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnUpdate>
						if UnitIsGroupLeader("player", 1) then	
							self:Enable()
						else
							self:Disable()
						end
					</OnUpdate>
					<OnClick>
						StaticPopup_Show("DICEMASTER4_LEVELRESETATTEMPT", nil, nil, DiceMasterRollFrame.DetailFrame.name)
					</OnClick>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
			<Frame parentKey="ListInset" inherits="InsetFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="12" y="-132"/>
					<Anchor point="BOTTOMRIGHT" x="-12" y="65"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString parentKey="Totals" inherits="GameFontNormalSmall">
							<Size x="150" y="16"/>
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="5"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<ScrollFrame name="$parentDetailScrollFrame" inherits="FauxScrollFrameTemplate">
				<Size x="150" y="142"/>
				<Anchors>
					<Anchor point="TOPRIGHT" x="-38" y="-140"/>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(self, offset, 16, DiceMaster4.DiceMasterRollDetailFrame_Update);
					</OnVerticalScroll>
				</Scripts>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
							<Size x="31" y="115"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
							</Anchors>
							<TexCoords left="0" right="0.484375" top="0" bottom="0.5"/>
						</Texture>
						<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
							<Size x="31" y="106"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
							</Anchors>
							<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
						</Texture>
					</Layer>
				</Layers>
			</ScrollFrame>
			<Button parentKey="ClearButton" inherits="UIPanelButtonTemplate" text="Clear">
				<Size x="110" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="15" y="38"/>
				</Anchors>
				<Scripts>
					<OnClick>
						DiceMaster4.HistoryRolls[DiceMasterRollFrame.DetailFrame.name] = {}
						DiceMaster4.DiceMasterRollDetailFrame_Update()
						PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
					</OnClick>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
			<Button parentKey="MessageButton" inherits="UIPanelButtonTemplate" text="Send Message">
				<Size x="110" y="22"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.ClearButton" relativePoint="RIGHT" x="1" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						ChatFrame_SendTell(DiceMasterRollTracker.selectedName);
						PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
					</OnClick>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
			<Button parentKey="SendBannerButton" inherits="UIPanelButtonTemplate" text="Send Banner...">
				<Size x="110" y="22"/>
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.ClearButton" relativePoint="BOTTOM" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						if DiceMaster4.IsLeader( false ) then
							DiceMasterBannerPromptDialog.target = DiceMasterRollTracker.selectedName
							DiceMasterBannerPromptDialog:Show()	PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						end
					</OnClick>
					<OnUpdate>
						if DiceMaster4.IsLeader( false ) then
							self:Enable()
						else
							self:Disable()
						end
					</OnUpdate>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
			<Button parentKey="SendBuffButton" inherits="UIPanelButtonTemplate" text="Apply Buff">
				<Size x="110" y="22"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.SendBannerButton" relativePoint="RIGHT" x="1" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						DiceMaster4.DMBuffEditor_Open()
					</OnClick>
				</Scripts>
				<NormalFont style="GameFontNormalSmall"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisableSmall"/>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				for i = 2, 9 do
					local button = CreateFrame("Button", "DiceMasterRollTrackerHistoryButton"..i, self, "DiceMasterRollTrackerHistoryButtonTemplate");
					button:SetID(i)
					button:SetPoint("TOP", _G["DiceMasterRollTrackerHistoryButton"..(i-1)], "BOTTOM");
				end
			</OnLoad>
			<OnShow>
				DiceMaster4.DiceMasterRollDetailFrame_Update()
				DiceMaster4.DMRosterFrame_Update()
			</OnShow>
			<OnHide>
				DiceMasterRollTracker.selected = nil
				DiceMaster4.DiceMasterRollFrame_Update()
				DiceMaster4.DMRosterFrame_Update()
			</OnHide>
		</Scripts>
	</Frame>
  
   <Button name="DiceMasterDMRosterPortraitTemplate" inherits="SecureActionButtonTemplate" virtual="true">
		<Size x="52" y="60"/>
		<Layers>
			<Layer level="BORDER">
				<Texture parentKey="PortraitRing" atlas="GarrMission_PortraitRing">
					<Size x="58" y="61"/>
					<Anchors>
						<Anchor point="TOP"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER" textureSubLevel="-1">
				<Texture parentKey="Portrait">
					<Size x="44" y="44"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.PortraitRing" y="5"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Disconnect" file="Interface\CharacterFrame\Disconnect-Icon" hidden="true">
					<Size x="64" y="64"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="2">
				<Texture name="$parentLevelBG" atlas="PetJournal-LevelBubble" useAtlasSize="true" parentKey="LevelBG">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-4" y="4"/>
					</Anchors>
				</Texture>
				<FontString name="$parentLevel" inherits="GameFontNormalSmall" justifyH="CENTER" parentKey="Level" text="1">
					<Size x="0" y="12"/>
					<Anchors>
						<Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parentLevelBG" x="1" y="-1"/>
					</Anchors>
				</FontString>
				<Texture name="$parentRaidRank" parentKey="Rank">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter>
				local name = self:GetParent().Name:GetText()
				local level = DiceMaster4.inspectData[name].level or 1
				local race = UnitRace( name );
				local class = UnitClass( name );
				GameTooltip:SetOwner(self, "ANCHOR_RIGHT", 0, 0);
				GameTooltip:SetText( name, 1, 0.82, 0);
				GameTooltip:AddLine( "Level " .. level .. " " .. race .. " " .. class, 1, 1, 1);
				GameTooltip:AddLine( "&lt;Left Click to Target>", 0.44, 0.44, 0.44 );
				GameTooltip:Show();
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
	</Button>
   
   <Button name="DiceMasterDMRosterButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="146" y="56"/>
		</Size>
		<Layers>
			<Layer level="ARTWORK">
				<FontString name="$parentName" parentKey="Name" inherits="GameFontNormal" justifyH="LEFT" text="Goblin Freeman">
					<Size x="80" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.PortraitFrame" relativePoint="LEFT" x="58" y="16"/>
					</Anchors>
				</FontString>
				<Texture parentKey="XPBar">
					<Size x="103" y="4"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.BG" relativePoint="BOTTOMLEFT" x="42" y="6"/>
					</Anchors>
					<Color r="0.2" g="0.6" b="1.0" a="0.5"/>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND">
				<Texture parentKey="BG" atlas="GarrMission_FollowerListButton">
					<Size x="142" y="56"/>
					<Anchors>
						<Anchor point="TOPRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="1">
				<Texture parentKey="Selected" atlas="GarrMission_FollowerListButton-Select" hidden="true">
					<Size x="142" y="56"/>
					<Anchors>
						<Anchor point="TOPRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="2">
				<Texture parentKey="Class" atlas="GarrMission_ClassIcon-DeathKnight" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPRIGHT"/>
					</Anchors>
					<Color r="1" g="1" b="1" a=".2"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="PortraitFrame" inherits="DiceMasterDMRosterPortraitTemplate">
				<Anchors>
					<Anchor point="LEFT" x="0" y="-3" />
				</Anchors>
			</Button>
			<Frame name="$parentHealthFrame" parentKey="healthFrame">
				<Size x="72" y="29"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentName" x="0" y="-2"/>
				</Anchors>
				<Frames>
					<Frame name="$parentTextureFrame">
						<Size x="16" y="16"/>
						<Anchors>
							<Anchor point="TOPLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="$parentHealthTex" file="Interface\PetBattles\PetBattle-StatIcons">
									<TexCoords left="0.5" right="1.0" top="0.5" bottom="1.0"/>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
					<StatusBar name="$parentarmourStatusBar" parentKey="armourBar" minvalue="0" maxvalue="10" defaultvalue="0">
						<Size x="72" y="7"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentTextureFrame" x="0" y="-2"/>
						</Anchors>
						<BarTexture name="$parentHealthBar" file="Interface\TargetingFrame\UI-StatusBar"/>
						<BarColor r="0" g="0.75" b="1.0" />
					</StatusBar>
					<StatusBar name="$parenthealthStatusBar" parentKey="healthBar">
						<Size x="72" y="7"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentTextureFrame" x="0" y="-2"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="$parentLeft" atlas="PetJournal-HealthBar-Left" useAtlasSize="true">
									<Anchors>
										<Anchor point="RIGHT" relativePoint="LEFT"  x="9" y="0"/>
									</Anchors>
								</Texture>
								<Texture name="$parentRight" atlas="PetJournal-HealthBar-Right" useAtlasSize="true">
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT"  x="-9" y="0"/>
									</Anchors>
								</Texture>
								<Texture name="$parentMiddle" atlas="PetJournal-HealthBar-Mid">
									<Anchors>
										<Anchor point="TOPLEFT" relativeTo="$parentLeft" relativePoint="TOPRIGHT"/>
										<Anchor point="BOTTOMRIGHT" relativeTo="$parentRight" relativePoint="BOTTOMLEFT"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="BACKGROUND">
								<Texture name="$parentBGMiddle" atlas="PetJournal-HealthBar-Background" useAtlasSize="true">
									<Anchors>
										<Anchor point="TOPLEFT" relativeTo="$parentLeft" x="2"/>
										<Anchor point="BOTTOMRIGHT" relativeTo="$parentRight" x="-2"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<BarTexture name="$parentHealthBar" file="Interface\TargetingFrame\UI-StatusBar"/>
						<BarColor r="1.0" g="0.0" b="0.0" />
					</StatusBar>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parentHealthValue" inherits="GameFontHighlight" parentKey="healthValue" text="10/10">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="18" y="-2"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT", -54, 0);
						GameTooltip:SetText("Health", 1, 1, 1);
						GameTooltip:AddLine("Represents this character's health.", nil, nil, nil, true);
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Frame>
		</Frames>
		<HighlightTexture parentKey="Highlight" atlas="GarrMission_FollowerListButton-Highlight">
			<Size x="142" y="56"/>
			<Anchors>
				<Anchor point="TOPRIGHT"/>
			</Anchors>
		</HighlightTexture>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
			</OnLoad>
			<PostClick>
				DiceMaster4.DMRosterButton_OnClick(self, button)
			</PostClick>
		</Scripts>
	</Button>
	
	<Button name="DiceMasterMapNodesButtonTemplate" virtual="true">
		<Size x="276" y="16"/>
		<Layers>
			<Layer level="BORDER">
				<Texture name="$parentIcon" file="Interface/Icons/Ability_Ambush">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="10" y="-3"/>
					</Anchors>
				</Texture>
				<FontString name="$parentTitle" inherits="GameFontHighlightSmall" justifyH="LEFT" text="Title">
					<Size x="75" y="14"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentIcon" relativePoint="RIGHT" x="4" y="0"/>
					</Anchors>
				</FontString>
				<FontString name="$parentZone" inherits="GameFontHighlightSmall" justifyH="LEFT" text="Description">
					<Size x="110" y="14"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentTitle" relativePoint="RIGHT" x="5" y="0"/>
					</Anchors>
				</FontString>
				</Layer>
		</Layers>
		<Frames>
			<Button name="$parentViewButton" inherits="UIPanelButtonTemplate" text="View">
				<Size x="60" y="16"/>
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parentZone" relativePoint="RIGHT" x="10" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						DiceMaster4.DiceMasterMapNodes_View( self )
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
			</OnLoad>
			<OnClick>
				DiceMasterMapNodesButton_OnClick(self, button);
				PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
			</OnClick>
		</Scripts>
		<HighlightTexture name="$parentHighlight" file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD">
			<Size x="276" y="16"/>
			<Anchors>
				<Anchor point="TOPLEFT" x="5" y="-2"/>
			</Anchors>
		</HighlightTexture>
	</Button>
	
  <Frame name="DiceMasterRollFrame" parent="UIParent" inherits="PortraitFrameTemplate" hidden="true" framestrata="HIGH" topLevel="true">
    <Size x="338" y="384" />
    <Anchors>
      <Anchor point="LEFT" x="300" y="100" />
    </Anchors>
    
    <Scripts>
      <OnLoad>
		DiceMaster4.DiceMasterRollFrame_OnLoad( self )
		PanelTemplates_SetNumTabs(self, 4);
	    PanelTemplates_SetTab(self, 1);
	  </OnLoad>
	  <OnShow>
		PlaySound(839)
		if not DiceMaster4.db.global.hideTracker then
			DiceMaster4.db.global.hideTracker = true
		end
	  </OnShow>
	  <OnHide>
		PlaySound(840)
		if DiceMaster4.db.global.hideTracker then
			DiceMaster4.db.global.hideTracker = false
		end
	  </OnHide>
    </Scripts>
    <Frames>
		<Frame name="DiceMasterRollTracker" setAllPoints="true" hidden="false">
			<Frames>
				<Frame name="DiceMasterRollTrackerListInset" inherits="InsetFrameTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-80"/>
						<Anchor point="BOTTOMRIGHT" x="-5" y="26"/>
					</Anchors>
					<Layers>
						<Layer level="ARTWORK">
							<FontString name="DiceMasterRollTrackerTotals" inherits="GameFontNormalSmall">
								<Size x="298" y="16"/>
								<Anchors>
									<Anchor point="BOTTOM" x="0" y="5"/>
								</Anchors>
							</FontString>
						</Layer>
					</Layers>
				</Frame>
				
				<!-- Target Selector -->
				<Button name="$parentSelectTarget" parentKey="selectTarget" enableMouse="true" inherits="UIDropDownMenuTemplate">
					<Size x="32" y="22"/>
					<Anchors>
					  <Anchor point="TOPLEFT" relativeTo="DiceMasterRollTracker" relativePoint="TOPLEFT" x="42" y="-26"/> 
					</Anchors>
					<Scripts>
					  <OnLoad>
						UIDropDownMenu_Initialize( self, DiceMaster4.RollTargetDropDown_OnLoad )
						UIDropDownMenu_SetText(DiceMasterRollTracker.selectTarget, "") 
						UIDropDownMenu_SetWidth(self, 32, 5)
					  </OnLoad>
					</Scripts>
				</Button>
				
				<EditBox name="$parentDCThreshold" parentKey="DCThreshold" font="GameFontNormalMed2" inherits="InputBoxTemplate">
					<Size x="30" y="12"/> 
					<Anchors>
					  <Anchor point="TOPRIGHT" relativeTo="DiceMasterRollTracker" relativePoint="TOPRIGHT" x="-16" y="-34"/> 
					</Anchors>
					<Layers>
						<Layer level="ARTWORK">
					  <FontString name="$parentDCThresholdTitle" inherits="GameFontNormalLeft" justifyH="left" text="Difficulty Class:">
							<Size x="100" y="12"/>
							<Anchors>
							  <Anchor point="RIGHT" relativePoint="LEFT" x="0" y="0"/> 
							</Anchors>
						</FontString>
					  </Layer>
					</Layers>
					<Scripts> 
					  <OnLoad>
						self:SetAutoFocus( false )
						self:SetTextColor( 1, 1, 1 )
						self:SetMaxLetters( 3 )
						self:SetNumeric( true )
					  </OnLoad>
					  <OnTextChanged>
						DiceMaster4.DiceMasterRollFrame_Update()
						DiceMaster4.DiceMasterRollDetailFrame_Update()
					  </OnTextChanged>
					  <OnEscapePressed function="EditBox_ClearFocus"/>
					  <OnEnterPressed function="EditBox_ClearFocus"/>
					</Scripts>
				</EditBox>

				<Button name="RollTrackerColumnHeader1" inherits="WhoFrameColumnHeaderTemplate" text="Name">
					<Anchors>
						<Anchor point="TOPLEFT" x="7" y="-57"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 73);
							self.sortKey = "name";
							self.reversed = false;
							self.sortType = "string";
						</OnLoad>
						<OnClick>
							DiceMaster4.SortRolls( self, self.reversed, self.sortKey, self.sortType )
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="RollTrackerColumnHeader2" inherits="WhoFrameColumnHeaderTemplate" text="Roll">
					<Anchors>
						<Anchor point="LEFT" relativeTo="RollTrackerColumnHeader1" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 44);
							self.sortKey = "roll";
							self.reversed = false;
							self.sortType = "number";
						</OnLoad>
						<OnClick>
							DiceMaster4.SortRolls( self, self.reversed, self.sortKey, self.sortType )
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="RollTrackerColumnHeader3" inherits="WhoFrameColumnHeaderTemplate" text="Type">
					<Anchors>
						<Anchor point="LEFT" relativeTo="RollTrackerColumnHeader2" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 101);
							self.sortKey = "rollType";
							self.reversed = false;
							self.sortType = "string";
						</OnLoad>
						<OnClick>
							DiceMaster4.SortRolls( self, self.reversed, self.sortKey, self.sortType )
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="RollTrackerColumnHeader4" inherits="WhoFrameColumnHeaderTemplate" text="Time">
					<Anchors>
						<Anchor point="LEFT" relativeTo="RollTrackerColumnHeader3" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 60);
							self.sortKey = "time";
							self.reversed = false;
						</OnLoad>
						<OnClick>
							DiceMaster4.SortRolls( self, self.reversed, self.sortKey, self.sortType )
							self.sortType = "string";
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="RollTrackerColumnHeader5" inherits="WhoFrameColumnHeaderTemplate" text="">
					<Anchors>
						<Anchor point="LEFT" relativeTo="RollTrackerColumnHeader4" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 32);
							self.sortKey = "target";
							self.reversed = false;
							self.sortType = "number";
						</OnLoad>
						<OnClick>
							DiceMaster4.SortRolls( self, self.reversed, self.sortKey, self.sortType )
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="DiceMasterRollTrackerButton1" inherits="DiceMasterRollTrackerButtonTemplate" id="1">
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="DiceMasterRollTracker" x="2" y="-82"/>
						</Anchors>
				</Button>
				
				<Button name="$parentBannerButton" inherits="UIPanelButtonTemplate" text="Send Banner...">
					<Size x="150" y="22"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="-6" y="4"/>
					</Anchors>
					<Scripts>
						<OnClick>
							if DiceMaster4.IsLeader( false ) then
								DiceMasterBannerPromptDialog.target = "RAID"
								DiceMasterBannerPromptDialog:Show()
							end
						</OnClick>
						<OnUpdate>
							if DiceMaster4.IsLeader( false ) then
								self:Enable()
							else
								self:Disable()
							end
						</OnUpdate>
					</Scripts>
				</Button>
				
				<Button name="$parentRefreshButton" inherits="UIPanelButtonTemplate" text="Clear">
					<Size x="85" y="22"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeTo="DiceMasterRollFrame" x="4" y="4"/>
					</Anchors>
					<Scripts>
						<OnClick>
							DiceMaster4.SavedRolls = {}
							DiceMasterRollTracker.selected = nil;
							DiceMaster4.DiceMasterRollFrame_Update()
							DiceMasterRollFrame.DetailFrame:Hide()
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<ScrollFrame name="$parentScrollFrame" inherits="FauxScrollFrameTemplate">
					<Size x="256" y="270"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativeTo="DiceMasterRollTracker" relativePoint="TOPRIGHT" x="-33" y="-87"/>
					</Anchors>
					<Scripts>
						<OnVerticalScroll>
							FauxScrollFrame_OnVerticalScroll(self, offset, 16, DiceMaster4.DiceMasterRollFrame_Update);
						</OnVerticalScroll>
					</Scripts>
					<Layers>
						<Layer level="BORDER">
							<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
								<Size x="31" y="256"/>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
								</Anchors>
								<TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
							</Texture>
							<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
								<Size x="31" y="106"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
								</Anchors>
								<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
							</Texture>
						</Layer>
					</Layers>
				</ScrollFrame>

			</Frames>
			<Scripts>
				<OnLoad>
				</OnLoad>
			</Scripts>
		</Frame>
		
		<Frame name="DiceMasterDMNotes" setAllPoints="true" hidden="true">
			<Frames>
				<Frame name="DiceMasterDMNotesInset" inherits="InsetFrameTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-60"/>
						<Anchor point="BOTTOMRIGHT" x="-5" y="40"/>
					</Anchors>
				</Frame>
				
				<CheckButton name="$parentAllowAssistants" parentKey="AllowAssistants" inherits="UICheckButtonTemplate">
					<Size x="24" y="24"/>
					<Anchors>
					  <Anchor point="TOPLEFT" x="58" y="-22"/>
					</Anchors>
					
					<Scripts>
						<OnLoad>
							_G[self:GetName().."Text"]:SetText("|cFFFFD100Allow Raid Assistants to Edit")
							self:Hide()
						</OnLoad>
						<OnClick>
							if DiceMaster4.IsLeader() then
								DiceMaster4.RollTracker_ShareNoteWithParty()
							end
						</OnClick>
					</Scripts>
				</CheckButton>
				
				<ScrollFrame name="$parentDMNotes" parentKey="DMNotes" inherits="UIPanelScrollFrameTemplate">
					<KeyValues>
						<KeyValue key="safeLength" value="4000" type="number"/>
					</KeyValues>
					<Anchors>
						<Anchor point="TOPLEFT" x="10" y="-65"/>
						<Anchor point="BOTTOMRIGHT" x="-10" y="44"/>
					</Anchors>
					<Scripts>
					  <OnLoad>
						self.ScrollBar:ClearAllPoints()
						self.ScrollBar:SetPoint("TOPLEFT", self, "TOPRIGHT", -13, -11)
						self.ScrollBar:SetPoint("BOTTOMLEFT", self, "BOTTOMRIGHT", -13, 9)
						self.ScrollBar.ScrollDownButton:SetPoint("TOP", self.ScrollBar, "BOTTOM", 0, 4)
						self.ScrollBar.ScrollUpButton:SetPoint("BOTTOM", self.ScrollBar, "TOP", 0, -4)
						self.ScrollBar.ScrollUpButton:Disable()
						self.ScrollBar.ScrollDownButton:Disable()
					  </OnLoad>
					  <OnMouseDown>
						if self.EditBox then
							self.EditBox:SetFocus()
							self.EditBox:SetCursorPosition(#self.EditBox:GetText())
						end
					  </OnMouseDown>
					</Scripts>
					<ScrollChild>
					  <EditBox parentKey="EditBox" multiLine="true" font="GameFontHighlightSmall2">
						<Size x="293" y="12"/>
						<Anchors>
						  <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="5" y="5"/>  
						</Anchors>
						<Layers>
							<Layer level="BORDER">
								<FontString parentKey="Instructions" inherits="GameFontWhite" justifyH="LEFT" justifyV="TOP">
									<Anchors>
										<Anchor point="TOPLEFT"/>
										<Anchor point="RIGHT"/>
										<Anchor point="BOTTOM" relativeKey="$parent.$parent"/>
									</Anchors>
									<Color r="0.5" g="0.5" b="0.5"/>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
						  <OnLoad>
							self:SetAutoFocus( false )
							self:GetParent():SetScrollChild( self )
							self:SetMaxLetters( 4000 )
							self:Disable()
							self.Instructions:SetText("Record public notes here that the rest of your group can see. Only the group leader can edit these notes.|n|nEnable the option above to grant raid assistants editing privileges.")
						  </OnLoad>
						  <OnEditFocusGained function="DiceMasterNotesEditBox_OnEditFocusGained"/>
						  <OnEditFocusLost function="DiceMasterNotesEditBox_OnEditFocusLost"/>
						  <OnTextChanged function="DiceMasterNotesEditBox_OnTextChanged"/>
						  <OnCursorChanged function="ScrollingEdit_OnCursorChanged"/>
						  <OnUpdate function="ScrollingEdit_OnUpdate"/>
						  <OnEscapePressed function="EditBox_ClearFocus"/>
						</Scripts>
					  </EditBox>
					</ScrollChild>
				</ScrollFrame>
				
				<Frame parentKey="FormatBar">
					<Size x="265" y="36"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="0" y="4"/>
					</Anchors>
					<Frames>
					
					  <Button name="$parentClearButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="BOTTOMLEFT" x="12" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to clear the notes field." )
								self.icon:SetTexCoord( 0.25, 0.5, 0, 0.25 )
							</OnLoad>
							<OnClick>
								StaticPopup_Show("DICEMASTER4_CLEARNOTES")
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentColourButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentClearButton" relativePoint="RIGHT" x="12" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to insert a colour tag." )
								self.icon:SetTexCoord( 0, 0.25, 0, 0.25 )
							</OnLoad>
							<OnClick>
								PlaySound(54132)
								DiceMaster4.ColourPicker_Open( DiceMasterDMNotesDMNotes.EditBox )
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentIconButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentColourButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to insert an icon." )
								self.icon:SetTexCoord( 0.5, 0.75, 0, 0.25 )
							</OnLoad>
							<OnClick>
								PlaySound(54132)
								DiceMaster4.IconPicker_Open( DiceMasterDMNotesDMNotes.EditBox )
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentListButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentIconButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to insert a list." )
								self.icon:SetTexCoord( 0, 0.25, 0.25, 0.5 )
							</OnLoad>
							<OnClick>
								DiceMaster4.TraitEditor_Insert( "|n&lt;*> Item 1|n&lt;*> Item 2|n&lt;*> Item 3", DiceMasterDMNotesDMNotes.EditBox )
								DiceMasterNotesEditBox_OnTextChanged(DiceMasterDMNotesDMNotes.EditBox)
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentAlignLeftButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentListButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to align the text to the left." )
								self.icon:SetTexCoord( 0, 0.25, 0.75, 1.0 )
							</OnLoad>
							<OnClick>
								DiceMasterDMNotesDMNotes.EditBox:SetJustifyH( "LEFT" )
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentAlignMiddleButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentAlignLeftButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to align the text to the middle." )
								self.icon:SetTexCoord( 0.25, 0.5, 0.75, 1.0 )
							</OnLoad>
							<OnClick>
								DiceMasterDMNotesDMNotes.EditBox:SetJustifyH( "CENTER" )
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentAlignRightButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentAlignMiddleButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to align the text to the right." )
								self.icon:SetTexCoord( 0.5, 0.75, 0.75, 1.0 )
							</OnLoad>
							<OnClick>
								DiceMasterDMNotesDMNotes.EditBox:SetJustifyH( "RIGHT" )
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentRuleButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentAlignRightButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to insert a line rule." )
								self.icon:SetTexCoord( 0.75, 1, 0, 0.25 )
							</OnLoad>
							<OnClick>
								DiceMaster4.TraitEditor_Insert( "&lt;rule>|n", DiceMasterDMNotesDMNotes.EditBox )
								DiceMasterNotesEditBox_OnTextChanged(DiceMasterDMNotesDMNotes.EditBox)
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentHeartButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentRuleButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to insert a Health icon." )
								self.icon:SetTexCoord( 0.5, 0.75, 0.25, 0.5 )
							</OnLoad>
							<OnClick>
								DiceMaster4.TraitEditor_Insert( "&lt;HP> ", DiceMasterDMNotesDMNotes.EditBox )
								DiceMasterNotesEditBox_OnTextChanged(DiceMasterDMNotesDMNotes.EditBox)
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentArmourButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentHeartButton" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Click to insert an Armour icon." )
								self.icon:SetTexCoord( 0.25, 0.5, 0.25, 0.5 )
							</OnLoad>
							<OnClick>
								DiceMaster4.TraitEditor_Insert( "&lt;AR> ", DiceMasterDMNotesDMNotes.EditBox )
								DiceMasterNotesEditBox_OnTextChanged(DiceMasterDMNotesDMNotes.EditBox)
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  <Button name="$parentPreviewButton" inherits="DiceMasterTraitEditorFormatButtonTemplate">
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentArmourButton" relativePoint="RIGHT" x="12" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Show Preview." )
								self.icon:SetTexCoord( 0.75, 1.0, 0.5, 0.75 )
								self.previewShown = false;
							</OnLoad>
							<OnClick>
								if self.previewShown then
									DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Show Preview" )
									self.icon:SetTexCoord( 0.75, 1.0, 0.5, 0.75 )
								else
									DiceMaster4.SetupTooltip( self, nil, "|cFFFFD100Hide Preview" )
									self.icon:SetTexCoord( 0.75, 1.0, 0.75, 1.0 )
								end
								DiceMasterNotesEditBox_UpdatePreview( self.previewShown )
								self.previewShown = not self.previewShown
								self:GetScript("OnEnter")( self )
							</OnClick>
							<OnUpdate>
								if DiceMaster4.IsLeader() then
									self:Enable()
								else
									self:Disable()
								end
							</OnUpdate>
						</Scripts>
					  </Button>
					  
					  </Frames>
				  </Frame>

			</Frames>
			<Scripts>
				<OnLoad>
				</OnLoad>
			</Scripts>
		</Frame>
		
		<Frame name="DiceMasterDMRoster" setAllPoints="true" hidden="true">
			<Frames>
				<Frame name="DiceMasterDMRosterInset" parentKey="inset" inherits="InsetFrameTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-60"/>
						<Anchor point="BOTTOMRIGHT" x="-5" y="26"/>
					</Anchors>
					<Layers>
						<Layer level="BORDER">
							<FontString parentKey="Text" inherits="GameFontWhite" justifyH="LEFT" justifyV="TOP">
								<Anchors>
									<Anchor point="TOPLEFT" x="10" y="-10"/>
									<Anchor point="BOTTOMRIGHT" x="-10" y="10"/>
								</Anchors>
								<Color r="1" g="1" b="1"/>
							</FontString>
						</Layer>
					</Layers>
				</Frame>
				
				<Button name="DiceMasterDMRosterButton1" inherits="DiceMasterDMRosterButtonTemplate" id="1">
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="DiceMasterDMRoster" x="11" y="-67"/>
						</Anchors>
				</Button>
				
				<Button name="DiceMasterDMRosterButton2" inherits="DiceMasterDMRosterButtonTemplate" id="2">
						<Anchors>
							<Anchor point="LEFT" relativeTo="DiceMasterDMRosterButton1" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
				</Button>
				
				<ScrollFrame name="$parentScrollFrame" inherits="FauxScrollFrameTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="DiceMasterDMRosterInset" relativePoint="TOPLEFT" x="0" y="-6"/>
						<Anchor point="BOTTOMRIGHT" relativeTo="DiceMasterDMRosterInset" relativePoint="BOTTOMRIGHT" x="-25" y="0"/>
					</Anchors>
					<Scripts>
						<OnVerticalScroll>
							FauxScrollFrame_OnVerticalScroll(self, offset, 16, DiceMaster4.DMRosterFrame_Update);
						</OnVerticalScroll>
					</Scripts>
					<Layers>
						<Layer level="BORDER">
							<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
								<Size x="31" y="256"/>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
								</Anchors>
								<TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
							</Texture>
							<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
								<Size x="31" y="106"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
								</Anchors>
								<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
							</Texture>
						</Layer>
					</Layers>
				</ScrollFrame>
				
				<Button name="$parentRefreshButton" inherits="UIPanelButtonTemplate" text="Refresh">
					<Size x="92" y="22"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="6" y="4"/>
					</Anchors>
					<Scripts>
						<OnUpdate>
							if IsInGroup( LE_PARTY_CATEGORY_HOME ) then	
								self:Enable()
							else
								self:Disable()
							end
						</OnUpdate>
						<OnClick>
							DiceMaster4.DMRosterFrame_Update()
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="$parentDMBuffButton" inherits="UIPanelButtonTemplate" text="Apply Buff...">
					<Size x="150" y="22"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="-6" y="4"/>
					</Anchors>
					<Scripts>
						<OnClick>
							DiceMaster4.DMBuffEditor_Open()
						</OnClick>
					</Scripts>
				</Button>

			</Frames>
			<Scripts>
				<OnLoad>
					self.inset.Text:SetText("|cFFffd100While in a group, you can view the health, level, and experience of all group members.|r|n|n- You can target a group member by clicking on their portrait, or click on their nameplate for more information.|n|n- The group leader can grant experience and levels to the players selected from this list.|n|n- The group leader cannot grant themselves experience or levels.|n|n- Once a player reaches 100 experience, they advance to the next level.")
				</OnLoad>
				<OnShow>
					DiceMaster4.DMRosterFrame_OnShow()
				</OnShow>
			</Scripts>
		</Frame>
		
		<Frame name="DiceMasterMapNodes" setAllPoints="true" hidden="true">
			<Frames>
				<Frame name="DiceMasterMapNodesListInset" inherits="InsetFrameTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-80"/>
						<Anchor point="BOTTOMRIGHT" x="-5" y="185"/>
					</Anchors>
					<Layers>
						<Layer level="ARTWORK">
							<FontString name="DiceMasterMapNodesTotals" inherits="GameFontNormalSmall">
								<Size x="298" y="16"/>
								<Anchors>
									<Anchor point="BOTTOM" x="0" y="5"/>
								</Anchors>
							</FontString>
						</Layer>
					</Layers>
				</Frame>
				
				<Frame name="DiceMasterMapNodesInset2" inherits="InsetFrameTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="DiceMasterMapNodesListInset" relativePoint="BOTTOMLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="-5" y="26"/>
					</Anchors>
					<Frames>
						<EditBox name="$parentNodeName" parentKey="nodeName" font="GameFontNormalMed2" inherits="InputBoxTemplate">
							<Size x="305" y="12"/> 
							<Anchors>
							  <Anchor point="TOPLEFT" x="12" y="-25"/>
							</Anchors>
							<Layers>
								<Layer level="ARTWORK">
							  <FontString name="$parentNodeNameTitle" inherits="GameFontNormalLeft" justifyH="left" text="Title">
									<Size x="150" y="12"/>
									<Anchors>
									  <Anchor point="TOPLEFT" x="0" y="18"/> 
									</Anchors>
								</FontString>
							  </Layer>
							</Layers>
							<Scripts> 
							  <OnLoad>
								self:SetAutoFocus( false )
								self:SetTextColor( 1, 1, 1 )
								self:SetMaxLetters( 200 )
							  </OnLoad>
							  <OnUpdate>
								if not DiceMasterMapNodes.selected then
									self:Disable()
								else
									self:Enable()
								end
							  </OnUpdate>
							  <OnEscapePressed function="EditBox_ClearFocus"/>
							  <OnEnterPressed function="EditBox_ClearFocus"/>
							  <OnTabPressed>
								DiceMasterMapNodesInset2.nodeDesc.EditBox:SetFocus()
							  </OnTabPressed>
							</Scripts>
						</EditBox>
						  
						<ScrollFrame parentKey="nodeDesc" name="$parentNodeDesc" inherits="InputScrollFrameTemplate">
							<Size x="300" y="48"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.nodeName" relativePoint="BOTTOMLEFT" x="0" y="-25"/>
							</Anchors>
							<Layers>
								<Layer level="ARTWORK">
							  <FontString name="$parentNodeDescTitle" inherits="GameFontNormalLeft" justifyH="left" text="Description">
									<Size x="150" y="12"/>
									<Anchors>
									  <Anchor point="TOPLEFT" x="0" y="18"/> 
									</Anchors>
								</FontString>
							  </Layer>
							</Layers>
							<KeyValues>
								<KeyValue key="maxLetters" value="5000"/>
								<KeyValue key="instructions" value="A description of this node."/>
								<KeyValue key="hideCharCount" value="true" type="boolean"/>
							</KeyValues>
							<Scripts>
								<OnLoad>
									InputScrollFrame_OnLoad(self);
									--self.EditBox:SetScript("OnEditFocusLost", DiceMaster4.AffixEditor_SaveDescription)
								</OnLoad>
								<OnUpdate>
									if not DiceMasterMapNodes.selected then
										self.EditBox:Disable()
									else
										self.EditBox:Enable()
									end
								</OnUpdate>
							</Scripts>
						</ScrollFrame>
						
						<Button name="$parentNodeIcon" parentKey="nodeIcon" enableMouse="true" inherits="UIDropDownMenuTemplate">
							<Size x="150" y="22"/>
							<Anchors>
							  <Anchor point="TOPLEFT" relativeKey="$parent.nodeDesc" relativePoint="BOTTOMLEFT" x="-22" y="-12"/> 
							</Anchors>
							<Scripts>
							  <OnLoad>
								UIDropDownMenu_Initialize( self, DiceMaster4.DiceMasterMapNodesDropDown_OnLoad )
								UIDropDownMenu_SetWidth(self, 150, 5)
							  </OnLoad>
							  <OnUpdate>
								if not DiceMasterMapNodes.selected then
									self.Button:Disable()
								else
									self.Button:Enable()
								end
							  </OnUpdate>
							</Scripts>
						</Button>
						
						<CheckButton name="$parentNodeHidden" parentKey="nodeHidden" inherits="ChatConfigCheckButtonTemplate">
							<Anchors>
							  <Anchor point="LEFT" relativeKey="$parent.nodeIcon" relativePoint="RIGHT" x="32" y="2" />
							</Anchors>
							<Scripts>
								<OnLoad>
									_G[self:GetName().."Text"]:SetText("|cFFFFD100Hidden from Raid")
									self.tooltip = "Toggles whether the rest of your group can see this node on the map."
								</OnLoad>
								<OnUpdate>
									if not DiceMasterMapNodes.selected then
										self:Disable()
										_G[self:GetName().."Text"]:SetText("|cFF707070Hidden from Raid")
									else
										self:Enable()
										_G[self:GetName().."Text"]:SetText("|cFFFFD100Hidden from Raid")
									end
								</OnUpdate>
							</Scripts>
						</CheckButton>
					</Frames>
				</Frame>

				<Button name="MapNodesColumnHeader1" inherits="WhoFrameColumnHeaderTemplate">
					<Anchors>
						<Anchor point="TOPLEFT" x="7" y="-57"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 24);
						</OnLoad>
					</Scripts>
				</Button>
				
				<Button name="MapNodesColumnHeader2" inherits="WhoFrameColumnHeaderTemplate" text="Title">
					<Anchors>
						<Anchor point="LEFT" relativeTo="MapNodesColumnHeader1" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 80);
							self.sortKey = "title";
							self.reversed = false;
							self.sortType = "string";
						</OnLoad>
						<OnClick>
							DiceMaster4.SortNodes( self, self.reversed, self.sortKey, self.sortType )
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="MapNodesColumnHeader3" inherits="WhoFrameColumnHeaderTemplate" text="Zone">
					<Anchors>
						<Anchor point="LEFT" relativeTo="MapNodesColumnHeader2" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 116);
							self.sortKey = "zone";
							self.reversed = false;
							self.sortType = "string";
						</OnLoad>
						<OnClick>
							DiceMaster4.SortNodes( self, self.reversed, self.sortKey, self.sortType )
							PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="MapNodesColumnHeader4" inherits="WhoFrameColumnHeaderTemplate">
					<Anchors>
						<Anchor point="LEFT" relativeTo="MapNodesColumnHeader3" relativePoint="RIGHT" x="-2" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							WhoFrameColumn_SetWidth(self, 80);
						</OnLoad>
					</Scripts>
				</Button>
				
				<Button name="DiceMasterMapNodesButton1" inherits="DiceMasterMapNodesButtonTemplate" id="1">
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="DiceMasterMapNodes" x="2" y="-82"/>
						</Anchors>
				</Button>
				
				<ScrollFrame name="$parentScrollFrame" inherits="FauxScrollFrameTemplate">
					<Size x="256" y="111"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativeTo="DiceMasterMapNodes" relativePoint="TOPRIGHT" x="-33" y="-87"/>
					</Anchors>
					<Scripts>
						<OnVerticalScroll>
							FauxScrollFrame_OnVerticalScroll(self, offset, 16, DiceMaster4.DiceMasterMapNodes_Update);
						</OnVerticalScroll>
					</Scripts>
					<Layers>
						<Layer level="BORDER">
							<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
								<Size x="31" y="102"/>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
								</Anchors>
								<TexCoords left="0" right="0.484375" top="0" bottom="0.4"/>
							</Texture>
							<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
								<Size x="31" y="106"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
								</Anchors>
								<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
							</Texture>
						</Layer>
					</Layers>
				</ScrollFrame>
				
				<Button name="$parentDeleteButton" inherits="UIPanelButtonTemplate" text="Delete">
					<Size x="85" y="22"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="6" y="4"/>
					</Anchors>
					<Scripts>
						<OnUpdate>
							if not DiceMasterMapNodes.selected then
								self:Disable()
							else
								self:Enable()
							end
						</OnUpdate>
						<OnClick>
							DiceMaster4.DiceMasterMapNodes_Delete()
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="$parentSaveButton" inherits="UIPanelButtonTemplate" text="Save">
					<Size x="85" y="22"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="-6" y="4"/>
					</Anchors>
					<Scripts>
						<OnUpdate>
							if not DiceMasterMapNodes.selected then
								self:Disable()
							else
								self:Enable()
							end
						</OnUpdate>
						<OnClick>
							DiceMaster4.DiceMasterMapNodes_Save()
						</OnClick>
					</Scripts>
				</Button>
				
				<Button name="$parentNewButton" inherits="UIPanelButtonTemplate" text="New">
					<Size x="85" y="22"/>
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parentSaveButton" relativePoint="LEFT" x="0" y="0"/>
					</Anchors>
					<Scripts>
						<OnUpdate>
						</OnUpdate>
						<OnClick>
							DiceMaster4.DiceMasterMapNodes_New()
						</OnClick>
					</Scripts>
				</Button>

			</Frames>
			<Scripts>
				<OnLoad>
				</OnLoad>
			</Scripts>
		</Frame>
		
		<Button name="$parentTab1" parentKey="Tab1" useParentLevel="true" inherits="PanelTabButtonTemplate" id="1" text="Rolls">
			<Anchors>
				<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" y="2"/>
			</Anchors>
			<Scripts>
				<OnClick>
					HelpPlate_Hide( false );
					PanelTemplates_SetTab(DiceMasterRollFrame, 1);
                    DiceMasterRollTracker:Show();
                    DiceMasterDMNotes:Hide();
					DiceMasterDMRoster:Hide();
					DiceMasterMapNodes:Hide();
					DiceMaster4.DiceMasterRollFrame_Update()
					PlaySound(841)
				</OnClick>
			</Scripts>
		</Button>
		
		<Button name="$parentTab2" parentKey="Tab2" useParentLevel="true" inherits="PanelTabButtonTemplate" id="2" text="Notes">
			<Anchors>
				<Anchor point="LEFT" relativeKey="$parent.Tab1" relativePoint="RIGHT" x="-16"/>
			</Anchors>
			<Scripts>
				<OnClick>
					HelpPlate_Hide( false );
					PanelTemplates_SetTab(DiceMasterRollFrame, 2);
                    DiceMasterRollTracker:Hide();
                    DiceMasterDMNotes:Show();
					DiceMasterDMRoster:Hide();
					DiceMasterMapNodes:Hide();
					PlaySound(841)
				</OnClick>
			</Scripts>
		</Button>
		
		<Button name="$parentTab3" parentKey="Tab3" useParentLevel="true" inherits="PanelTabButtonTemplate" id="3" text="Roster">
			<Anchors>
				<Anchor point="LEFT" relativeKey="$parent.Tab2" relativePoint="RIGHT" x="-16"/>
			</Anchors>
			<Scripts>
				<OnClick>
					HelpPlate_Hide( false );
					PanelTemplates_SetTab(DiceMasterRollFrame, 3);
                    DiceMasterRollTracker:Hide();
                    DiceMasterDMNotes:Hide();
					DiceMasterDMRoster:Show();
					DiceMasterMapNodes:Hide();
					PlaySound(841)
				</OnClick>
			</Scripts>
		</Button>
		
		<Button name="$parentTab4" parentKey="Tab4" useParentLevel="true" inherits="PanelTabButtonTemplate" id="4" text="Map Nodes">
			<Anchors>
				<Anchor point="LEFT" relativeKey="$parent.Tab3" relativePoint="RIGHT" x="-16"/>
			</Anchors>
			<Scripts>
				<OnClick>
					HelpPlate_Hide( false );
					PanelTemplates_SetTab(DiceMasterRollFrame, 4);
                    DiceMasterRollTracker:Hide();
                    DiceMasterDMNotes:Hide();
					DiceMasterDMRoster:Hide();
					DiceMasterMapNodes:Show();
					DiceMaster4.DiceMasterMapNodes_Update();
					PlaySound(841)
				</OnClick>
			</Scripts>
		</Button>
	
		<Frame parentKey="DetailFrame" frameLevel="100" inherits="DiceMasterRollTrackerDetailFrameTemplate" hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPRIGHT" x="-8" y="-76"/>
				</Anchors>
				<Frames>
					<Button name="DiceMasterRollTrackerHistoryButton1" inherits="DiceMasterRollTrackerHistoryButtonTemplate" id="1">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parentKey.DetailFrame" x="12" y="-135"/>
						</Anchors>
					</Button>
				</Frames>
		</Frame>
		
		<Button name="DiceMasterRollFrameOpen">
			<Scripts>
				<OnClick>
					if DiceMasterRollFrame:IsShown() then
						DiceMasterRollFrame:Hide()
					else
						DiceMasterRollFrame:Show()
					end
				</OnClick>
			</Scripts>
		</Button>
		
		<Button parentKey="Tutorial" inherits="MainHelpPlateButton" mixin="DiceMasterRollFrameTutorialMixin">
			<Anchors>
				<Anchor point="TOPLEFT" x="43" y="19"/>
			</Anchors>
			<Scripts>
				<OnLoad method="OnLoad"/>
				<OnHide method="OnHide"/>
				<OnClick method="ToggleHelpInfo"/>
			</Scripts>
		</Button>
	
	</Frames>
</Frame>
</Ui>
